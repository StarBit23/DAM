{"mappings":"AACA,IAAI;AACJ;;;;;;;;;;;;;;;;AAgBA,GAEA,MAAM,aAAa;AACnB,MAAM,SAAS;AACf,IAAI,gBAAe;AACnB,MAAM,cAAc,SAAS,cAAc,CAAC;AAE5C,YAAY,OAAO,GAAG,IAAM;IACxB,SAAS,cAAc,CAAC,aAAa,SAAS;IAC9C,MAAM,WAAW,SAAS,cAAc,CAAC,eAAe,KAAK;IAC7D,gBAAc,uDAAqD,SAAO,2BAAyB,WAAS;IAC5G,eACC,IAAI,CAAC,CAAC,iBAAiB;QACxB,eAAe,OAAO,CAAC,CAAA,WAAY;YAC/B,iBAAiB,SAAS,EAAE,EAC3B,IAAI,CAAC,CAAC,WAAW;gBACd,QAAQ,GAAG,CAAC;gBACZ,MAAM,OAAO,SAAS,aAAa,CAAC;gBACpC,MAAM,UAAU,SAAS,aAAa,CAAC;gBACvC,MAAM,SAAS,SAAS,aAAa,CAAC;gBACtC,OAAO,SAAS,GAAG,SAAS,cAAc;gBAC1C,KAAK,WAAW,CAAC;gBACjB,KAAK,WAAW,CAAC;gBACjB,QAAQ,YAAY,CAAC,OAAO,CAAC,gCAAgC,EAAE,SAAS,WAAW,CAAC,CAAC;gBACrF,SAAS,cAAc,CAAC,aAAa,WAAW,CAAC;YACrD,GAAG,KAAK,CAAC,CAAA,MAAK,CAAC;QAEnB;IACJ;AACA;AAEA,SAAS,eAAe;IACpB,OAAO,MAAM,eACZ,IAAI,CAAC,CAAC,WAAW,SAAS,IAAI,IAC9B,IAAI,CAAC,CAAC,YAAY;QACf,OAAO,UAAU,OAAO;IAC5B;AACJ;AAEA,SAAS,iBAAiB,EAAE,EAAE;IAC1B,MAAM,cAAc,CAAC,mCAAmC,EAAE,GAAG,wDAAwD,CAAC;IACtH,OAAO,MAAM,aACZ,IAAI,CAAC,CAAA,WAAU,SAAS,IAAI,IAC5B,IAAI,CAAC,CAAA,WAAU;AACpB","sources":["src/ejer10_1_asincroniaYdom.js"],"sourcesContent":["\n//))\n/*\nEjercicios:\n=============\n1 - Refactoriza el código anterior usando async/await en lugar de promesas (rama y commits)\n2 - Crea una nueva rama \"buscador\". En lugar de ver todas las películas, vamos a hacer un buscador:\nCrea en el html una caja de texto (input type=\"text\") y un botón \"Buscar\". Registra un manejador de eventos para detectar cuando se pulsa el botón. \nEntonces consulta el endpoint \nhttps://api.themoviedb.org/3/search/movie?api_key=API_KEY&language=es-ES&query=PELI_A_BUSCAR&page=1&include_adult=false\nGenera el dom con los resultados de la búsqueda.\n\n3 - Vuelve a la rama principal. Refactoriza a una versión usando programación orientado a objetos (rama y commits)\nTendrás que crear una o varias clases con métodos e ir instanciandolas y llamar a los métodos.\n\n4 - Crea un proyecto similar al anterior con la api https://developers.giphy.com/\n- El usuario buscará un texto y los resultados se añadirán al dom\n- Se proporciona un ejemplo\n*/\n\nconst nombrePeli = \"sonic+the+hedgehog\"\nconst apikey = \"ecade04f0950fc78674036e1ed5c4931\";\nlet url_top_rated =\"\";\nconst botonBuscar = document.getElementById(\"btnBuscar\");\n\nbotonBuscar.onclick = () => {\n    document.getElementById(\"peliculas\").innerHTML\n    const busqueda = document.getElementById(\"barraBuscar\").value;\n    url_top_rated=\"https://api.themoviedb.org/3/search/movie?api_key=\"+apikey+\"&language=es-ES&query=\"+busqueda+\"&page=1&include_adult=false\"\n    getPeliculas()\n    .then((arrayPeliculas)=>{\n    arrayPeliculas.forEach(pelicula => {\n        getDatosPelicula(pelicula.id)\n        .then((pelicula)=>{\n            console.log(pelicula);\n            const peli = document.createElement('div');\n            const portada = document.createElement('img');\n            const titulo = document.createElement('p');\n            titulo.innerHTML = pelicula.original_title;\n            peli.appendChild(titulo);\n            peli.appendChild(portada);\n            portada.setAttribute('src', `https://image.tmdb.org/t/p/w200/${pelicula.poster_path}`);\n            document.getElementById(\"peliculas\").appendChild(peli);            \n        }).catch(err=>{});\n        ;\n    });\n})\n}\n\nfunction getPeliculas() {\n    return fetch(url_top_rated)\n    .then((response)=>response.json())\n    .then((peliculas)=>{\n        return peliculas.results;\n    });\n}\n\nfunction getDatosPelicula(id) {\n    const url_details = `https://api.themoviedb.org/3/movie/${id}?api_key=ecade04f0950fc78674036e1ed5c4931&language=en-US`;\n    return fetch(url_details)\n    .then(response=>response.json())\n    .then(pelicula=>pelicula);\n}"],"names":[],"version":3,"file":"index.00e6c1dc.js.map","sourceRoot":"/__parcel_source_root/"}