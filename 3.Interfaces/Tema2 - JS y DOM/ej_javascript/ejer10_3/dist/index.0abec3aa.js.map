{"mappings":"AAAA;;;;;;;;;;;;;;;;;;AAkBA,GACA,MAAM,aAAa;AACnB,MAAM,SAAS;AACf,MAAM,gBAAe,uDAAqD,SAAO,2BAAyB,aAAW;AAGrH,SAAS,eAAe;IACpB,OAAO,MAAM,eACZ,IAAI,CAAC,CAAC,WAAW,SAAS,IAAI,IAC9B,IAAI,CAAC,CAAC,YAAY;QACf,OAAO,UAAU,OAAO;IAC5B;AACJ;AAEA,SAAS,iBAAiB,EAAE,EAAE;IAC1B,MAAM,cAAc,CAAC,mCAAmC,EAAE,GAAG,wDAAwD,CAAC;IACtH,OAAO,MAAM,aACZ,IAAI,CAAC,CAAA,WAAU,SAAS,IAAI,IAC5B,IAAI,CAAC,CAAA,WAAU;AACpB;AAEA,iEAAiE;AACjE,eACC,IAAI,CAAC,CAAC,iBAAiB;IACpB,eAAe,OAAO,CAAC,CAAA,WAAY;QAC/B,iBAAiB,SAAS,EAAE,EAC3B,IAAI,CAAC,CAAC,WAAW;YACd,QAAQ,GAAG,CAAC;YACZ,MAAM,OAAO,SAAS,aAAa,CAAC;YACpC,MAAM,UAAU,SAAS,aAAa,CAAC;YACvC,MAAM,SAAS,SAAS,aAAa,CAAC;YACtC,OAAO,SAAS,GAAG,SAAS,cAAc;YAC1C,KAAK,WAAW,CAAC;YACjB,KAAK,WAAW,CAAC;YACjB,QAAQ,YAAY,CAAC,OAAO,CAAC,gCAAgC,EAAE,SAAS,WAAW,CAAC,CAAC;YACrF,SAAS,cAAc,CAAC,aAAa,WAAW,CAAC;QACrD,GAAG,KAAK,CAAC,CAAA,MAAK,CAAC;IAEnB;AACJ,GAAE,IAAI;CAEN;;;;;;;;;;;;;;;;;AAiBA","sources":["src/ejer10_asincroniaYdom.js"],"sourcesContent":["/*\n\nLos siguientes ejercicios tienes que ejecutarlos en el navegador:\n\nEjercicios iniciales asincronía:\n======================================\nAntes registrate en www.themoviedb.org y obten tu apikey.\n\n1 - Crea una función mediante promesas que consulte la siguiente url https://api.themoviedb.org/3/search/movie?api_key=ecade04f0950fc78674036e1ed5c4931&language=es-ES&query=sonic+the+hedgehog+2&page=1&include_adult=false\nA la función se le pasa un string con la película a buscar. Muestra el json en consola\n2 - Después para cada película consulta esta url que da los detalles. (Cambia el MOVIE_ID): https://api.themoviedb.org/3/movie/MOVIE_ID?api_key=API_KEY&language=en-US\nMuestra solo los campos original_title, popularity, homepage\n3 - Refactoriza usando async/await\n\nhttps://gitlab.iesvirgendelcarmen.com/luis/ejercicios_javascript.git\n\n\n- Usa el repositorio anterior como referencia.\n*/\nconst nombrePeli = \"sonic+the+hedgehog\"\nconst apikey = \"ecade04f0950fc78674036e1ed5c4931\";\nconst url_top_rated =\"https://api.themoviedb.org/3/search/movie?api_key=\"+apikey+\"&language=es-ES&query=\"+nombrePeli+\"&page=1&include_adult=false\"\n\n\nfunction getPeliculas() {\n    return fetch(url_top_rated)\n    .then((response)=>response.json())\n    .then((peliculas)=>{\n        return peliculas.results;\n    });\n}\n\nfunction getDatosPelicula(id) {\n    const url_details = `https://api.themoviedb.org/3/movie/${id}?api_key=ecade04f0950fc78674036e1ed5c4931&language=en-US`;\n    return fetch(url_details)\n    .then(response=>response.json())\n    .then(pelicula=>pelicula);\n}\n\n//document.getElementById(\"boton\").addEventListener(\"click\",()=>(\ngetPeliculas()\n.then((arrayPeliculas)=>{\n    arrayPeliculas.forEach(pelicula => {\n        getDatosPelicula(pelicula.id)\n        .then((pelicula)=>{\n            console.log(pelicula);\n            const peli = document.createElement('div');\n            const portada = document.createElement('img');\n            const titulo = document.createElement('p');\n            titulo.innerHTML = pelicula.original_title;\n            peli.appendChild(titulo);\n            peli.appendChild(portada);\n            portada.setAttribute('src', `https://image.tmdb.org/t/p/w200/${pelicula.poster_path}`);\n            document.getElementById(\"peliculas\").appendChild(peli);            \n        }).catch(err=>{});\n        ;\n    });\n})//))\n\n/*\nEjercicios:\n=============\n1 - Refactoriza el código anterior usando async/await en lugar de promesas (rama y commits)\n2 - Crea una nueva rama \"buscador\". En lugar de ver todas las películas, vamos a hacer un buscador:\nCrea en el html una caja de texto (input type=\"text\") y un botón \"Buscar\". Registra un manejador de eventos para detectar cuando se pulsa el botón. \nEntonces consulta el endpoint \nhttps://api.themoviedb.org/3/search/movie?api_key=API_KEY&language=es-ES&query=PELI_A_BUSCAR&page=1&include_adult=false\nGenera el dom con los resultados de la búsqueda.\n\n3 - Vuelve a la rama principal. Refactoriza a una versión usando programación orientado a objetos (rama y commits)\nTendrás que crear una o varias clases con métodos e ir instanciandolas y llamar a los métodos.\n\n4 - Crea un proyecto similar al anterior con la api https://developers.giphy.com/\n- El usuario buscará un texto y los resultados se añadirán al dom\n- Se proporciona un ejemplo\n\n*/"],"names":[],"version":3,"file":"index.0abec3aa.js.map","sourceRoot":"/__parcel_source_root/"}