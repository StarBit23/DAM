{"mappings":"AACA,IAAI;AACJ,88BAgBA,GAGA,MAAM,SAAS;AACf,IAAI,gBAAe;AACnB,MAAM,cAAc,SAAS,cAAc,CAAC;AAE5C,YAAY,OAAO,GAAG,IAAM;IACxB,SAAS,cAAc,CAAC,aAAa,SAAS,GAAG;IACjD,MAAM,WAAW,SAAS,cAAc,CAAC,eAAe,KAAK;IAC7D,gBAAc,0CAAwC,SAAO;IAC7D,eACC,IAAI,CAAC,CAAC,iBAAiB;QACxB,eAAe,OAAO,CAAC,CAAA,WAAY;YAC/B,iBAAiB,SAAS,EAAE,EAC3B,IAAI,CAAC,CAAC,WAAW;gBACd,QAAQ,GAAG,CAAC;gBACZ,MAAM,OAAO,SAAS,aAAa,CAAC;gBACpC,MAAM,UAAU,SAAS,aAAa,CAAC;gBACvC,MAAM,SAAS,SAAS,aAAa,CAAC;gBACtC,OAAO,SAAS,GAAG,SAAS,cAAc;gBAC1C,KAAK,WAAW,CAAC;gBACjB,KAAK,WAAW,CAAC;gBACjB,QAAQ,YAAY,CAAC,OAAO,CAAC,gCAAgC,EAAE,SAAS,WAAW,CAAC,CAAC;gBACrF,SAAS,cAAc,CAAC,aAAa,WAAW,CAAC;YACrD,GAAG,KAAK,CAAC,CAAA,MAAK,CAAC;QAEnB;IACJ;AACA;AAEA,SAAS,eAAe;IACpB,OAAO,MAAM,eACZ,IAAI,CAAC,CAAC,WAAW,SAAS,IAAI,IAC9B,IAAI,CAAC,CAAC,YAAY;QACf,OAAO,UAAU,OAAO;IAC5B;AACJ;AAEA,SAAS,iBAAiB,EAAE,EAAE;IAC1B,MAAM,cAAc,CAAC,mCAAmC,EAAE,GAAG,wDAAwD,CAAC;IACtH,OAAO,MAAM,aACZ,IAAI,CAAC,CAAA,WAAU,SAAS,IAAI,IAC5B,IAAI,CAAC,CAAA,WAAU;AACpB","sources":["src/ejer10_1_asincroniaYdom.js"],"sourcesContent":["\r\n//))\r\n/*\r\nEjercicios:\r\n=============\r\n1 - Refactoriza el código anterior usando async/await en lugar de promesas (rama y commits)\r\n2 - Crea una nueva rama \"buscador\". En lugar de ver todas las películas, vamos a hacer un buscador:\r\nCrea en el html una caja de texto (input type=\"text\") y un botón \"Buscar\". Registra un manejador de eventos para detectar cuando se pulsa el botón. \r\nEntonces consulta el endpoint \r\nhttps://api.themoviedb.org/3/search/movie?api_key=API_KEY&language=es-ES&query=PELI_A_BUSCAR&page=1&include_adult=false\r\nGenera el dom con los resultados de la búsqueda.\r\n\r\n3 - Vuelve a la rama principal. Refactoriza a una versión usando programación orientado a objetos (rama y commits)\r\nTendrás que crear una o varias clases con métodos e ir instanciandolas y llamar a los métodos.\r\n\r\n4 - Crea un proyecto similar al anterior con la api https://developers.giphy.com/\r\n- El usuario buscará un texto y los resultados se añadirán al dom\r\n- Se proporciona un ejemplo\r\n*/\r\n\r\n\r\nconst apikey = \"aMrr0RDuTmYWBJIcohqJrtlRpqndJ7b0\";\r\nlet url_top_rated =\"\";\r\nconst botonBuscar = document.getElementById(\"btnBuscar\");\r\n\r\nbotonBuscar.onclick = () => {\r\n    document.getElementById(\"peliculas\").innerHTML = \"\";\r\n    const busqueda = document.getElementById(\"barraBuscar\").value;\r\n    url_top_rated=\"api.giphy.com/v1/gifs/search?api_key=\"+apikey+\"&q=peter\"\r\n    getPeliculas()\r\n    .then((arrayPeliculas)=>{\r\n    arrayPeliculas.forEach(pelicula => {\r\n        getDatosPelicula(pelicula.id)\r\n        .then((pelicula)=>{\r\n            console.log(pelicula);\r\n            const peli = document.createElement('div');\r\n            const portada = document.createElement('img');\r\n            const titulo = document.createElement('p');\r\n            titulo.innerHTML = pelicula.original_title;\r\n            peli.appendChild(titulo);\r\n            peli.appendChild(portada);\r\n            portada.setAttribute('src', `https://image.tmdb.org/t/p/w200/${pelicula.poster_path}`);\r\n            document.getElementById(\"peliculas\").appendChild(peli);            \r\n        }).catch(err=>{});\r\n        ;\r\n    });\r\n})\r\n}\r\n\r\nfunction getPeliculas() {\r\n    return fetch(url_top_rated)\r\n    .then((response)=>response.json())\r\n    .then((peliculas)=>{\r\n        return peliculas.results;\r\n    });\r\n}\r\n\r\nfunction getDatosPelicula(id) {\r\n    const url_details = `https://api.themoviedb.org/3/movie/${id}?api_key=ecade04f0950fc78674036e1ed5c4931&language=en-US`;\r\n    return fetch(url_details)\r\n    .then(response=>response.json())\r\n    .then(pelicula=>pelicula);\r\n}"],"names":[],"version":3,"file":"index.00e6c1dc.js.map","sourceRoot":"/__parcel_source_root/"}