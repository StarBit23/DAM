{"mappings":"AAAA,k4BAYA,GACA,MAAM,aAAa;AACnB,MAAM,SAAS;AACf,MAAM,gBAAe,0CAAwC,SAAO,QAAM;AAG1E,SAAS,eAAe;IACpB,OAAO,MAAM,eACZ,IAAI,CAAC,CAAC,WAAW,SAAS,IAAI,IAC9B,IAAI,CAAC,CAAC,YAAY;QACf,OAAO,UAAU,OAAO;IAC5B;AACJ;AAEA,SAAS,iBAAiB,EAAE,EAAE;IAC1B,MAAM,cAAc,CAAC,mCAAmC,EAAE,GAAG,wDAAwD,CAAC;IACtH,OAAO,MAAM,aACZ,IAAI,CAAC,CAAA,WAAU,SAAS,IAAI,IAC5B,IAAI,CAAC,CAAA,WAAU;AACpB;AAEA,iEAAiE;AACjE,eACC,IAAI,CAAC,CAAC,iBAAiB;IACpB,eAAe,OAAO,CAAC,CAAA,WAAY;QAC/B,iBAAiB,SAAS,EAAE,EAC3B,IAAI,CAAC,CAAC,WAAW;YACd,QAAQ,GAAG,CAAC;YACZ,MAAM,OAAO,SAAS,aAAa,CAAC;YACpC,MAAM,UAAU,SAAS,aAAa,CAAC;YACvC,MAAM,SAAS,SAAS,aAAa,CAAC;YACtC,OAAO,SAAS,GAAG,SAAS,cAAc;YAC1C,KAAK,WAAW,CAAC;YACjB,KAAK,WAAW,CAAC;YACjB,QAAQ,YAAY,CAAC,OAAO,CAAC,gCAAgC,EAAE,SAAS,WAAW,CAAC,CAAC;YACrF,SAAS,cAAc,CAAC,aAAa,WAAW,CAAC;QACrD,GAAG,KAAK,CAAC,CAAA,MAAK,CAAC;IAEnB;AACJ","sources":["src/ejer10 prueba1.js"],"sourcesContent":["/*\r\nLos siguientes ejercicios tienes que ejecutarlos en el navegador:\r\nEjercicios iniciales asincronía:\r\n======================================\r\nAntes registrate en www.themoviedb.org y obten tu apikey.\r\n1 - Crea una función mediante promesas que consulte la siguiente url https://api.themoviedb.org/3/search/movie?api_key=ecade04f0950fc78674036e1ed5c4931&language=es-ES&query=sonic+the+hedgehog+2&page=1&include_adult=false\r\nA la función se le pasa un string con la película a buscar. Muestra el json en consola\r\n2 - Después para cada película consulta esta url que da los detalles. (Cambia el MOVIE_ID): https://api.themoviedb.org/3/movie/MOVIE_ID?api_key=API_KEY&language=en-US\r\nMuestra solo los campos original_title, popularity, homepage\r\n3 - Refactoriza usando async/await\r\nhttps://gitlab.iesvirgendelcarmen.com/luis/ejercicios_javascript.git\r\n- Usa el repositorio anterior como referencia.\r\n*/\r\nconst nombrePeli = \"peter\"\r\nconst apikey = \"aMrr0RDuTmYWBJIcohqJrtlRpqndJ7b0\";\r\nconst url_top_rated =\"api.giphy.com/v1/gifs/search?api_key=\"+apikey+\"&q=\"+nombrePeli\r\n\r\n\r\nfunction getPeliculas() {\r\n    return fetch(url_top_rated)\r\n    .then((response)=>response.json())\r\n    .then((peliculas)=>{\r\n        return peliculas.results;\r\n    });\r\n}\r\n\r\nfunction getDatosPelicula(id) {\r\n    const url_details = `https://api.themoviedb.org/3/movie/${id}?api_key=ecade04f0950fc78674036e1ed5c4931&language=en-US`;\r\n    return fetch(url_details)\r\n    .then(response=>response.json())\r\n    .then(pelicula=>pelicula);\r\n}\r\n\r\n//document.getElementById(\"boton\").addEventListener(\"click\",()=>(\r\ngetPeliculas()\r\n.then((arrayPeliculas)=>{\r\n    arrayPeliculas.forEach(pelicula => {\r\n        getDatosPelicula(pelicula.id)\r\n        .then((pelicula)=>{\r\n            console.log(pelicula);\r\n            const peli = document.createElement('div');\r\n            const portada = document.createElement('img');\r\n            const titulo = document.createElement('p');\r\n            titulo.innerHTML = pelicula.original_title;\r\n            peli.appendChild(titulo);\r\n            peli.appendChild(portada);\r\n            portada.setAttribute('src', `https://image.tmdb.org/t/p/w200/${pelicula.poster_path}`);\r\n            document.getElementById(\"peliculas\").appendChild(peli);            \r\n        }).catch(err=>{});\r\n        ;\r\n    });\r\n})"],"names":[],"version":3,"file":"index.c4671677.js.map","sourceRoot":"/__parcel_source_root/"}