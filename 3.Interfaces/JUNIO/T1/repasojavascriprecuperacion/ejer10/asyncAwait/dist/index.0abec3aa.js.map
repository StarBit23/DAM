{"mappings":"AAAA;;;;;;;;;;;;AAYA,GACA,MAAM,aAAa;AACnB,MAAM,SAAS;AACf,MAAM,gBAAgB,uDAAuD,SAAS,2BAA2B;AAEjH;AAGA,eAAe,eAAe;IAC1B,MAAM,WAAW,MAAM,MAAM;IAC7B,MAAM,YAAY,MAAM,SAAS,IAAI;IACrC,OAAO,UAAU,OAAO;AAC5B;AAEA,eAAe,aAAc;IACzB,MAAM,aAAa,MAAM;IACzB,WAAW,OAAO,CAAC,CAAA,UAAW;QAC1B,QAAQ,GAAG,CAAC;QACZ,MAAM,WAAW,SAAS,aAAa,CAAC;QACxC,MAAM,UAAU,SAAS,aAAa,CAAC;QACvC,MAAM,WAAW,SAAS,aAAa,CAAC;QACxC,MAAM,SAAS,SAAS,aAAa,CAAC;QACtC,MAAM,cAAc,SAAS,aAAa,CAAC;QAC3C,MAAM,YAAY,SAAS,aAAa,CAAC;QAEzC,SAAS,WAAW,CAAC;QACrB,SAAS,WAAW,CAAC;QACrB,SAAS,WAAW,CAAC;QACrB,SAAS,WAAW,CAAC;QACrB,SAAS,WAAW,CAAC;QAErB,SAAS,YAAY,CAAC,UAAU;QAChC,SAAS,YAAY,CAAC,QAAQ,CAAC,iCAAiC,EAAE,QAAQ,EAAE,CAAC,CAAC;QAC9E,SAAS,SAAS,GAAG;QACrB,OAAO,SAAS,GAAG,aAAa,QAAQ,cAAc;QACtD,YAAY,SAAS,GAAG,kBAAkB,QAAQ,UAAU;QAC5D,UAAU,SAAS,GAAG;QACtB,QAAQ,YAAY,CAAC,OAAO,CAAC,gCAAgC,EAAE,QAAQ,WAAW,CAAC,CAAC;QACpF,SAAS,cAAc,CAAC,aAAa,WAAW,CAAC;IACrD;AACJ","sources":["src/ejer10_asincroniaYdom.js"],"sourcesContent":["/*\r\nLos siguientes ejercicios tienes que ejecutarlos en el navegador:\r\nEjercicios iniciales asincronía:\r\n======================================\r\nAntes registrate en www.themoviedb.org y obten tu apikey.\r\n1 - Crea una función mediante promesas que consulte la siguiente url https://api.themoviedb.org/3/search/movie?api_key=ecade04f0950fc78674036e1ed5c4931&language=es-ES&query=sonic+the+hedgehog+2&page=1&include_adult=false\r\nA la función se le pasa un string con la película a buscar. Muestra el json en consola\r\n2 - Después para cada película consulta esta url que da los detalles. (Cambia el MOVIE_ID): https://api.themoviedb.org/3/movie/MOVIE_ID?api_key=API_KEY&language=en-US\r\nMuestra solo los campos original_title, popularity, homepage\r\n3 - Refactoriza usando async/await\r\nhttps://gitlab.iesvirgendelcarmen.com/luis/ejercicios_javascript.git\r\n- Usa el repositorio anterior como referencia.\r\n*/\r\nconst nombrePeli = \"ice+age\"\r\nconst apikey = \"ecade04f0950fc78674036e1ed5c4931\";\r\nconst url_top_rated = \"https://api.themoviedb.org/3/search/movie?api_key=\" + apikey + \"&language=es-ES&query=\" + nombrePeli;\r\n    \r\nmostarPeli();\r\n\r\n\r\nasync function getPeliculas() {\r\n    const response = await fetch(url_top_rated);\r\n    const peliculas = await response.json();\r\n    return peliculas.results;\r\n}\r\n\r\nasync function mostarPeli () {\r\n    const listaPelis = await getPeliculas()\r\n    listaPelis.forEach(element => {\r\n        console.log(element)\r\n        const pelicula = document.createElement(\"div\");\r\n        const portada = document.createElement(\"img\");\r\n        const homepage = document.createElement(\"a\");\r\n        const titulo = document.createElement(\"p\");\r\n        const popularidad = document.createElement(\"p\");\r\n        const separador = document.createElement(\"p\");\r\n\r\n        pelicula.appendChild(portada);\r\n        pelicula.appendChild(titulo);\r\n        pelicula.appendChild(popularidad);\r\n        pelicula.appendChild(homepage);\r\n        pelicula.appendChild(separador);\r\n\r\n        homepage.setAttribute(\"target\", \"blank_\");\r\n        homepage.setAttribute(\"href\", `https://www.themoviedb.org/movie/${element.id}`);\r\n        homepage.innerHTML = \"Ver\";\r\n        titulo.innerHTML = \"Titulo: \" + element.original_title;\r\n        popularidad.innerHTML = \"Popularidad: \" + element.popularity;\r\n        separador.innerHTML = \"-------------------------------------------\"\r\n        portada.setAttribute(\"src\", `https://image.tmdb.org/t/p/w200/${element.poster_path}`);\r\n        document.getElementById(\"peliculas\").appendChild(pelicula);\r\n    });\r\n}"],"names":[],"version":3,"file":"index.0abec3aa.js.map","sourceRoot":"/__parcel_source_root/"}